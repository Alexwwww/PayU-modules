$PayU = new PayU( '__YOUR_MERCHANT__', '__YOUR_SECRET_KEY__' );

#<b>Чтение IPN ответа от сервера PayU</b>

#Для этого в качестве ссылки ответа для IPN необходимо указать ссылку вида
#  http://yourdomain.com/form.php?read=1

 if ( isset( $_GET['read'] )  ) 
{
        $check = $PayU->getPostData()->checkHashSignature();

    if ( !$check )  die( "Incorrect signature" );
    $answer = $PayU->createAnswer();

    /*
      Do something
      Variable with data - $PayU->post or $_POST
    */

    die( $answer );
}

#<b>Создание формы для передачи данных на сервер PayU</b>

  else  
{

    $orderID = md5( "payuTestOrder_".time() );
    $forSend = array (
              'ORDER_REF' => $orderID, # Uniqe order 
              'ORDER_DATE' => date("Y-m-d H:i:s"), # Date of paying ( Y-m-d H:i:s ) 
              'ORDER_PNAME' => array( "Test_goods" ), # Array with data of goods
              'ORDER_PCODE' => array( "testgoods1" ), # Array with codes of goods
              'ORDER_PINFO' => array( "" ), # Array with additional data of goods
              'ORDER_PRICE' => array( "0.10" ), # Array with prices of goods
              'ORDER_QTY' => array( 1 ), # Array with data of counts of each goods 
              'ORDER_VAT' => array( 0 ), # Array with VAT of each goods
              'ORDER_SHIPPING' => 0.1 , # Shipping cost
              'PRICES_CURRENCY' => "UAH"  # Currency
             );
    $form = $PayU->update( $forSend )->debug(1)->getForm(); # for real mode need use 0 on method "debug" 
    echo $form;
}
